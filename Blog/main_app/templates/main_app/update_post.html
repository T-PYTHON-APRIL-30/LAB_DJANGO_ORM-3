{% extends 'main_app/base.html' %}
{% load static %}

{%block title%} {{post.title}}{%endblock%}

{%block content%}


<div class="container-fluid">
    <main class="tm-main">
        <form action="" method="POST" class="mb-5 tm-comment-form" enctype="multipart/form-data">
            {% csrf_token %}
            <h2 class="tm-color-primary tm-post-title mb-4">Update {{post.title}} Post</h2>
            <div class="mb-4">
                <label for="exampleFormControlInput1" class="form-label">Title</label>
                <input class="form-control" name="title" type="text" value="{{post.title}}">
            </div>
            <div class="mb-4">
                <label for="exampleFormControlInput1" class="form-label">Post content:</label>
                <textarea class="form-control" id="exampleFormControlInput1" placeholder="Write your post here." name="content">{{post.content}}</textarea>
            </div>
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Do you want to publish your post?</label>
                <select class="form-control" aria-label="Default select example" name="is_published">
                    <option value="True" {% if post.is_published == True %} selected {% endif %}>publish</option>
                    <option value="False" {% if post.is_published == False %} selected {% endif %}>not published</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="birthdaytime" class="form-label">current image:</label>
                <img src="{{post.image.url}}" class="w-25 rounded-5"/>
                <input class="form-control" type="file" name="image" value="{{post.image.url}}"/>
            </div>

            <div class="mb-3">
                <label for="birthdaytime" class="form-label">Date of publish:</label>
                <input class="form-control" type="datetime-local" name="publish_date" value="{{iso_date}}">
            </div>
            <div class="mb-3">
                <input type="submit" value="Submit" class="tm-btn tm-btn-primary tm-btn-small"/>
            </div>
        </form>
    </main>
</div>


{%endblock%}